!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r(n(6)),c=r(n(4)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3)),f=0,p=function(e){function t(e,n){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"createElement",value:function(e){var n=this,r=$("[type=hidden][name="+this.target[0].id+"]");r.length?(this.realTarget=r,this.name=this.realTarget[0].name):((r=document.createElement("input")).type="hidden",this.name=r.name=this.target[0].name,this.target.attr("name",r.name+"-label"),this.realTarget=$(r).insertAfter(this.target));var i=this.container=document.createElement("div");i.className="tqb-city-picker-desktop-container",$(i).insertAfter(this.target),this.$el=$(l.framework),i.appendChild(this.$el[0]),this.$el.removeClass("out"),$.get({url:e.url||"./assets/city.json",dataType:"json"}).then(function(r){n.data=e.data=r.map(function(e,t){return e.selected=0===t,e.index=f+t,e.name=n.name,e}),f+=r.length;var i=u.default.render(l.nav,{all:r}),a=r.map(function(e){return t.createSheet(e)});n.$el.removeClass("loading").html(i+a.join(""))}).then(function(){n.setValue()})}},{key:"delegateEvents",value:function(e){var t=this;this.$el.on("click",".city",function(e){t.$el.find(".active").removeClass("active");var n=e.currentTarget;t.target.val(n.textContent),t.realTarget.val(n.getAttribute("href").substr(2)),n.className="active",t.hide()}),event.preventDefault()}},{key:"setValue",value:function(){var e=this.realTarget.val();e&&this.$el.find("[href='#/"+e+"']").addClass("active")}}],[{key:"createSheet",value:function(e){return u.default.render(l.sheet,e)}}]),t}(c.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new(function(e){return e&&e.__esModule?e:{default:e}}(n(5)).default);t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(1)),a=r(n(0));i.default.register(a.default,".tqb-city-picker-desktop-input",{componentName:"tqb-city-picker-desktop"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="tqb-city-picker-desktop";t.framework='\n<div class="'+r+' out loading">\n  <label>加载城市列表，请稍候</label>\n  <div>\n    <i class="fa fa-spin fa-spinner fa-3x"></i>\n  </div>\n</div>\n',t.nav='\n{{#all}}\n<input type="radio" name="'+r+'-{{name}}" id="'+r+'-nav-{{index}}" class="'+r+'-nav-{{index}}" value="{{index}}" {{#selected}}checked{{/selected}}>\n<label for="'+r+'-nav-{{index}}">{{area}}</label>\n{{/all}}\n',t.sheet='\n<dl class="'+r+'-sheet-{{index}}">\n  {{#countries}}\n  <dt>{{name}}</dt>\n  <dd>\n    {{#cities}}\n    <a class="city" href="#/{{id}}">{{value}}</a>\n    {{/cities}}\n  </dd>\n  {{/countries}}\n</dl>\n'},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){r(this,e),this.target=t,this.options=n,this.createElement(n),this.delegateEvents(n),this.setValue(n)}return i(e,[{key:"createElement",value:function(e){return this.$el=document.createElement("div"),this.$el}},{key:"delegateEvents",value:function(e){}},{key:"setValue",value:function(e){}},{key:"show",value:function(){this.$el.removeClass("out")}},{key:"hide",value:function(){this.$el.addClass("out")}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return i(e,[{key:"register",value:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e.createCamelName(i.componentName||t);e.body.on("click",n,function(n){var o=$(n.currentTarget),s=o.data(),u=s[a];u||(i=Object.assign(i,s),u=new t(o,i),o.data(a,u)),u.show();var c=function t(n){e.onBodyClick.call(r,n)&&e.body.off("click",t)};e.body.on("click",{picker:u},c)})}}],[{key:"onBodyClick",value:function(e){var t=e.data,n=e.originalEvent,r=document.elementFromPoint(n.x,n.y);return!$.contains(t.picker.$el[0],r)&&(t.picker.hide(),!0)}},{key:"createCamelName",value:function(e){return e.replace(/\-(\w?)/g,function(e,t){return t?t.toUpperCase():""})}}]),e}();t.default=a,a.body=$("body")},function(e,t,n){var r,i,a;!function(n,o){"object"==typeof t&&t&&"string"!=typeof t.nodeName?o(t):(i=[t],void 0!==(a="function"==typeof(r=o)?r.apply(t,i):r)&&(e.exports=a))}(0,function(e){function t(e){return"function"==typeof e}function n(e){return v(e)?"array":typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}function a(e,t){return y.call(e,t)}function o(e){return!a(g,e)}function s(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return b[e]})}function u(t,n){function i(e){if("string"==typeof e&&(e=e.split(w,2)),!v(e)||2!==e.length)throw new Error("Invalid tags: "+e);a=new RegExp(r(e[0])+"\\s*"),s=new RegExp("\\s*"+r(e[1])),u=new RegExp("\\s*"+r("}"+e[1]))}if(!t)return[];var a,s,u,p=[],h=[],d=[],y=!1,g=!1;i(n||e.tags);for(var b,j,E,O,$,C,T=new f(t);!T.eos();){if(b=T.pos,E=T.scanUntil(a))for(var P=0,U=E.length;P<U;++P)o(O=E.charAt(P))?d.push(h.length):g=!0,h.push(["text",O,b,b+1]),b+=1,"\n"===O&&function(){if(y&&!g)for(;d.length;)delete h[d.pop()];else d=[];y=!1,g=!1}();if(!T.scan(a))break;if(y=!0,j=T.scan(_)||"name",T.scan(m),"="===j?(E=T.scanUntil(k),T.scan(k),T.scanUntil(s)):"{"===j?(E=T.scanUntil(u),T.scan(x),T.scanUntil(s),j="&"):E=T.scanUntil(s),!T.scan(s))throw new Error("Unclosed tag at "+T.pos);if($=[j,E,b,T.pos],h.push($),"#"===j||"^"===j)p.push($);else if("/"===j){if(!(C=p.pop()))throw new Error('Unopened section "'+E+'" at '+b);if(C[1]!==E)throw new Error('Unclosed section "'+C[1]+'" at '+b)}else"name"===j||"{"===j||"&"===j?g=!0:"="===j&&i(E)}if(C=p.pop())throw new Error('Unclosed section "'+C[1]+'" at '+T.pos);return l(c(h))}function c(e){for(var t,n,r=[],i=0,a=e.length;i<a;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}function l(e){for(var t,n=[],r=n,i=[],a=0,o=e.length;a<o;++a)switch((t=e[a])[0]){case"#":case"^":r.push(t),i.push(t),r=t[4]=[];break;case"/":i.pop()[5]=t[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(t)}return n}function f(e){this.string=e,this.tail=e,this.pos=0}function p(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function h(){this.cache={}}var d=Object.prototype.toString,v=Array.isArray||function(e){return"[object Array]"===d.call(e)},y=RegExp.prototype.test,g=/\S/,b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},m=/\s*/,w=/\s+/,k=/\s*=/,x=/\s*\}/,_=/#|\^|\/|>|\{|&|=|!/;f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},f.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},p.prototype.push=function(e){return new p(e,this)},p.prototype.lookup=function(e){var n,r=this.cache;if(r.hasOwnProperty(e))n=r[e];else{for(var a,o,s=this,u=!1;s;){if(e.indexOf(".")>0)for(n=s.view,a=e.split("."),o=0;null!=n&&o<a.length;)o===a.length-1&&(u=i(n,a[o])),n=n[a[o++]];else n=s.view[e],u=i(s.view,e);if(u)break;s=s.parent}r[e]=n}return t(n)&&(n=n.call(this.view)),n},h.prototype.clearCache=function(){this.cache={}},h.prototype.parse=function(e,t){var n=this.cache,r=n[e];return null==r&&(r=n[e]=u(e,t)),r},h.prototype.render=function(e,t,n){var r=this.parse(e),i=t instanceof p?t:new p(t);return this.renderTokens(r,i,n,e)},h.prototype.renderTokens=function(e,t,n,r){for(var i,a,o,s="",u=0,c=e.length;u<c;++u)o=void 0,"#"===(a=(i=e[u])[0])?o=this.renderSection(i,t,n,r):"^"===a?o=this.renderInverted(i,t,n,r):">"===a?o=this.renderPartial(i,t,n,r):"&"===a?o=this.unescapedValue(i,t):"name"===a?o=this.escapedValue(i,t):"text"===a&&(o=this.rawValue(i)),void 0!==o&&(s+=o);return s},h.prototype.renderSection=function(e,n,r,i){function a(e){return o.render(e,n,r)}var o=this,s="",u=n.lookup(e[1]);if(u){if(v(u))for(var c=0,l=u.length;c<l;++c)s+=this.renderTokens(e[4],n.push(u[c]),r,i);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)s+=this.renderTokens(e[4],n.push(u),r,i);else if(t(u)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(n.view,i.slice(e[3],e[5]),a))&&(s+=u)}else s+=this.renderTokens(e[4],n,r,i);return s}},h.prototype.renderInverted=function(e,t,n,r){var i=t.lookup(e[1]);if(!i||v(i)&&0===i.length)return this.renderTokens(e[4],t,n,r)},h.prototype.renderPartial=function(e,n,r){if(r){var i=t(r)?r(e[1]):r[e[1]];return null!=i?this.renderTokens(this.parse(i),n,r,i):void 0}},h.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},h.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},h.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.0",e.tags=["{{","}}"];var j=new h;return e.clearCache=function(){return j.clearCache()},e.parse=function(e,t){return j.parse(e,t)},e.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+n(e)+'" was given as the first argument for mustache#render(template, view, partials)');return j.render(e,t,r)},e.to_html=function(n,r,i,a){var o=e.render(n,r,i);if(!t(a))return o;a(o)},e.escape=s,e.Scanner=f,e.Context=p,e.Writer=h,e})}]);